(function(){var e={979:function(){},483:function(){},994:function(e,t,r){var i=r(979);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),r(346).Z("898b96de",i,!0,{})},723:function(e,t,r){var i=r(483);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),r(346).Z("039a1563",i,!0,{})},346:function(e,t,r){"use strict";function i(e,t){for(var r=[],i={},s=0;s<t.length;s++){var a=t[s],n=a[0],o={id:e+":"+s,css:a[1],media:a[2],sourceMap:a[3]};i[n]?i[n].parts.push(o):r.push(i[n]={id:n,parts:[o]})}return r}r.d(t,{Z:function(){return m}});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},n=s&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,d=!1,c=function(){},p=null,u="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,r,s){d=r,p=s||{};var n=i(e,t);return h(n),function(t){for(var r=[],s=0;s<n.length;s++){var o=a[n[s].id];o.refs--,r.push(o)}t?h(n=i(e,t)):n=[];for(var s=0;s<r.length;s++){var o=r[s];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete a[o.id]}}}}function h(e){for(var t=0;t<e.length;t++){var r=e[t],i=a[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(f(r.parts[s]));i.parts.length>r.parts.length&&(i.parts.length=r.parts.length)}else{for(var n=[],s=0;s<r.parts.length;s++)n.push(f(r.parts[s]));a[r.id]={id:r.id,refs:1,parts:n}}}}function x(){var e=document.createElement("style");return e.type="text/css",n.appendChild(e),e}function f(e){var t,r,i=document.querySelector("style["+u+'~="'+e.id+'"]');if(i){if(d)return c;i.parentNode.removeChild(i)}if(g){var s=l++;t=w.bind(null,i=o||(o=x()),s,!1),r=w.bind(null,i,s,!0)}else t=b.bind(null,i=x()),r=function(){i.parentNode.removeChild(i)};return t(e),function(i){i?(i.css!==e.css||i.media!==e.media||i.sourceMap!==e.sourceMap)&&t(e=i):r()}}var v=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function w(e,t,r,i){var s=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,s);else{var a=document.createTextNode(s),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(a,n[t]):e.appendChild(a)}}function b(e,t){var r=t.css,i=t.media,s=t.sourceMap;if(i&&e.setAttribute("media",i),p.ssrId&&e.setAttribute(u,t.id),s&&(r+="\n/*# sourceURL="+s.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},t={};function r(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={id:i,exports:{}};return e[i](a,a.exports,r),a.exports}r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="bundles/solu1taxjar/",window?.__sw__?.assetPath&&(r.p=window.__sw__.assetPath+"/bundles/solu1taxjar/"),function(){"use strict";let{Component:e}=Shopware,{Criteria:t}=Shopware.Data;e.register("sw-text-filter",{template:'\n{% block sw_text_filter %}\n    <div class="sw-existence-filter">\n        <sw-base-filter\n            :title="filter.label"\n            :show-reset-button="!!value"\n            :active="active"\n            @filter-reset="resetFilter"\n        >\n            \n            {% block sw_text_filter_content %}\n                <sw-text-field\n                    :placeholder="filter.placeholder"\n                    :value="value"\n                    @update:value="changeValue"\n                />\n            {% endblock %}\n        </sw-base-filter>\n    </div>\n{% endblock %}\n',props:{filter:{type:Object,required:!0},active:{type:Boolean,required:!0}},computed:{value(){return this.filter.value}},methods:{changeValue(e){if(!e){this.resetFilter();return}let r=this.filter.property.concat(this.filter.schema?`.${this.filter.schema.localField}`:""),i=[t.contains(r,e)];this.$emit("filter-update",this.filter.name,i,e)},resetFilter(){this.$emit("filter-reset",this.filter.name)}}}),Shopware.Component.override("sw-filter-panel",{template:'\n{% block sw_filter_panel_item %}\n    <div\n            v-for="filter in listFilters"\n            :id="filter.name"\n            :key="filter.name"\n            class="sw-filter-panel__item"\n    >\n        <div v-if="false"></div>\n        <sw-text-filter\n                v-else-if="showFilter(filter, \'text-filter\')"\n                :filter="filter"\n                :active="!!activeFilters[filter.name]"\n                @filter-update="updateFilter"\n                @filter-reset="resetFilter"\n        />\n    </div>\n    {% parent %}\n{% endblock %}\n'}),Shopware.Component.override("sw-order-detail-base",{template:'\n{% block sw_order_detail_base_line_items_summary_taxes %}\n    <template v-if="taxStatus !== \'tax-free\'">\n        <template v-for="(calculatedTax, index) in sortedCalculatedTaxes">\n            <dt :key="`sorted-calculated-taxes-dt-${index}`">\n                {{ $tc(\'sw-order.detailBase.summaryLabelTaxes\', 1, { taxRate: getTaxRate(calculatedTax.tax) }) }}\n            </dt>\n            <dd :key="`sorted-calculated-taxes-dd-${index}`">\n                {{ calculatedTax.tax | currency(order.currency.translated.shortName) }}\n            </dd>\n        </template>\n    </template>\n{% endblock %}\n',methods:{getTaxRate(e){return parseFloat(100*e/this.order.amountNet).toFixed(2)}}}),Shopware.Component.override("sw-settings-tax-detail",{template:'\n{% block sw_settings_tax_detail_content_card %}\n    {% parent %}\n    <div class="sw-card">\n        <div class="sw-card__content">\n            <div class="sw-container"\n                 style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 0px 30px; place-items: stretch;">\n                <div class="sw-field sw-block-field sw-contextual-field sw-field--text is--disabled sw-field--default">\n                    {% block sw_settings_tax_service_provider_card %}\n                        <sw-tax-provider-card\n                            v-if="tax.id"\n                            :disabled="!taxId"\n                            class="sw-settings-tax-detail__tax-rule-grid"\n                            :tax="tax"\n                            :is-loading="isLoading"\n                        />\n                    {% endblock %}\n                </div>\n            </div>\n        </div>\n        <div></div>\n    </div>\n{% endblock %}\n'}),r(723);let{Component:i,Context:s}=Shopware,{Criteria:a}=Shopware.Data;i.register("sw-tax-provider-card",{template:'\n{% block sw_settings_tax_provider_card %}\n    <sw-container\n        columns="1fr 1fr"\n        gap="0px 32px"\n    >\n        \n        {% block sw_settings_tax_provider_card_type_select %}\n            <sw-entity-single-select\n                v-model:value="taxProvider.id"\n                show-clearable-button\n                :label="$tc(\'sw-override-settings-tax.taxProvider.cardTitle\')"\n                label-property="name"\n                :criteria="taxProviderCriteria"\n                entity="s25_tax_service_provider"\n                @update:value="changeTaxProvider"\n            />\n        {% endblock %}\n    </sw-container>\n{% endblock %}\n',inject:["repositoryFactory"],props:{tax:{type:Object,required:!0}},data(){return{taxProvider:null,currentTaxProvider:null}},computed:{taxRepository(){return this.repositoryFactory.create("tax")},taxProviderRepository(){return this.repositoryFactory.create("s25_tax_service_provider")},taxMappingRepository(){return this.repositoryFactory.create("s25_tax_provider")},taxProviderCriteria(){return new a}},created(){this.createdComponent()},methods:{changeTaxProvider(e){this.taxProviderRepository.get(e,s.api).then(e=>{this.currentTaxProvider=e,this.currentTaxProvider?(this.taxExtension=this.taxMappingRepository.create(Shopware.Context.api),this.tax.extensions.taxExtension?(this.taxExtension.taxId=this.tax.id,this.taxExtension.providerId=this.currentTaxProvider.id,this.taxMappingRepository.delete(this.tax.extensions.taxExtension.id).then(()=>{})):(this.taxExtension.taxId=this.tax.id,this.taxExtension.providerId=this.currentTaxProvider.id),this.taxMappingRepository.save(this.taxExtension).then(()=>{})):this.taxMappingRepository.delete(this.tax.extensions.taxExtension.id,s.api).then(()=>{})})},createdComponent(){this.currentTaxProvider?(this.taxProvider=this.currentTaxProvider,this.taxProvider.id&&this.changeTaxProvider(this.taxProvider.id)):(this.taxProvider=this.taxProviderRepository.create(),this.taxProvider.taxId=this.tax.id,this.tax.extensions.taxExtension&&(this.taxProvider.id=this.tax.extensions.taxExtension.providerId))}}});let{Component:n,Mixin:o}=Shopware;n.register("sw-settings-taxjar",{template:'\n{% block sw_settings_taxjar_index %}\n    <sw-page class="sw-settings-taxjar">\n\n        \n        {% block sw_settings_taxjar_search_bar %}\n            <template #search-bar>\n                <sw-search-bar />\n            </template>\n        {% endblock %}\n\n        \n        {% block sw_settings_taxjar_smart_bar_header %}\n            <template #smart-bar-header>\n                \n                {% block sw_settings_taxjar_smart_bar_header_title %}\n                    <h2>\n                        Edon\n                        \n                        {% block sw_settings_taxjar_smart_bar_header_title_text %}\n                            {{ $tc(\'sw-settings.index.title\') }}\n                            <sw-icon\n                                    name="regular-chevron-right-xs"\n                                    small\n                            />\n                            {{ $tc(\'sw-settings-taxjar.general.textHeadline\') }}\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        \n        {% block sw_settings_taxjar_smart_bar_actions %}\n            <template #smart-bar-actions>\n                \n                {% block sw_settings_tax_actions_save %}\n                    <sw-button-process\n                            class="sw-settings-login-registration__save-action"\n                            :is-loading="isLoading || systemConfigLoading"\n                            :process-success="isSaveSuccessful"\n                            :disabled="isLoading || systemConfigLoading"\n                            variant="primary"\n                            @update:process-success="saveFinish"\n                            @click="onSave"\n                    >\n                        {{ $tc(\'sw-settings-taxjar.general.buttonSave\') }}\n                    </sw-button-process>\n                {% endblock %}\n                \n                {% block sw_settings_tax_actions_log %}\n                    <sw-button\n                            class="sw-settings-tax__log-action"\n                            variant="primary"\n                            :is-loading="isLoading"\n                            :disabled="isLoading"\n                            :router-link="{ name: \'sw.tax.log.module.list\' }"\n                    >\n                        {{ $tc(\'sw-settings-taxjar.general.buttonLog\') }}\n                    </sw-button>\n                {% endblock %}\n\n                \n                {% block sw_settings_test_tax_jar_connection %}\n                    <sw-button\n                            class="sw-settings-tax-connection__test-action"\n                            variant="primary"\n                            :is-loading="isLoading"\n                            :disabled="isLoading"\n                            @click="testConnection"\n                    >\n                        {{ $tc(\'sw-settings-taxjar.general.testButtonLabel\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n\n        \n        {% block sw_settings_taxjar_content %}\n            <template #content>\n                <sw-card-view>\n                    <sw-skeleton v-if="isLoading" />\n                    <sw-system-config\n                            v-show="!isLoading"\n                            ref="systemConfig"\n                            sales-channel-switchable\n                            domain="solu1TaxJar.setting"\n                            @loading-changed="onLoadingChanged"\n                    />\n                </sw-card-view>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',mixins:[o.getByName("notification")],data(){return{isLoading:!1,isSaveSuccessful:!1}},metaInfo(){return{title:this.$createTitle()}},methods:{saveFinish(){this.isSaveSuccessful=!1},basicHeaders(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${Shopware.Service("loginService").getToken()}`}},testConnection(){let e=this.$refs.systemConfig.actualConfigData[null],t=Shopware.Context.api.basePath,r=e["solu1TaxJar.setting.liveApiToken"];e["solu1TaxJar.setting.selectedCommitFlows"],e["solu1TaxJar.setting.sandboxMode"]&&(r=e["solu1TaxJar.setting.sandboxApiToken"]);let i=JSON.stringify({token:r,sandbox:e["solu1TaxJar.setting.sandboxMode"],from_country:e["solu1TaxJar.setting.shippingFromCountry"],from_zip:e["solu1TaxJar.setting.shippingFromZip"],from_state:e["solu1TaxJar.setting.shippingFromState"],from_city:e["solu1TaxJar.setting.shippingFromCity"],from_street:e["solu1TaxJar.setting.shippingFromStreet"],selectedCommitFlows:e["solu1TaxJar.setting.selectedCommitFlows"]}),s={method:"POST",headers:this.basicHeaders(),body:i,redirect:"follow"};fetch(t+"/api/_action/tax-jar/test-connection",s).then(e=>e.json()).then(e=>{try{if(e.error){let t=e.detail;(t=t.replace(/from_street/g,"Shipping From Street").replace(/from_country/g,"Shipping From Country").replace(/from_zip/g,"Shipping From ZipCode").replace(/from_state/g,"Shipping From State Code").replace(/from_city/g,"Shipping From City")).includes("Shipping From State Code")&&(t+=".Please provide valid Shipping From State Code Ex: WI for Wisconsin!"),this.createNotificationError({message:t})}else this.createNotificationSuccess({message:this.$tc("sw-settings-taxjar.testConnection.success")})}catch(e){this.createNotificationError({message:e})}}).catch(e=>{this.createNotificationError({message:e+".Please review logs for more detail!"})})},validateInput(){let e=this.$refs.systemConfig.actualConfigData[null],t=!1;return e["solu1TaxJar.setting.sandboxMode"]?e["solu1TaxJar.setting.sandboxApiToken"]||(this.createNotificationError({message:"Provide Valid Sandbox API Token"}),t=!0):e["solu1TaxJar.setting.liveApiToken"]||(this.createNotificationError({message:"Provide Valid Live API Token"}),t=!0),e["solu1TaxJar.setting.defaultProductTaxCode"]||(this.createNotificationError({message:"Provide Valid Product Tax Code"}),t=!0),e["solu1TaxJar.setting.selectedCommitFlows"]||(this.createNotificationError({message:"Commit flow should be selected"}),t=!0),e["solu1TaxJar.setting.shippingFromStreet"]||(this.createNotificationError({message:"Provide Valid Shipping From Street"}),t=!0),e["solu1TaxJar.setting.shippingFromCity"]||(this.createNotificationError({message:"Provide Valid Shipping From City"}),t=!0),e["solu1TaxJar.setting.shippingFromZip"]||(this.createNotificationError({message:"Provide Valid Shipping From Zip"}),t=!0),e["solu1TaxJar.setting.shippingFromState"]?e["solu1TaxJar.setting.shippingFromState"].length>3&&(this.createNotificationError({message:"Provide Valid Shipping From State Code Ex: WI For Wisconsin"}),t=!0):(this.createNotificationError({message:"Provide Valid Shipping From State Code"}),t=!0),e["solu1TaxJar.setting.shippingFromCountry"]||(this.createNotificationError({message:"Provide Valid Shipping From Country"}),t=!0),!t},onSave(){if(this.isSaveSuccessful=!1,!this.validateInput()){this.isLoading=!1;return}this.isLoading=!0,this.$refs.systemConfig.saveAll().then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({message:e})})},onLoadingChanged(e){this.isLoading=e}}});let{Module:l}=Shopware;l.register("sw-settings-taxjar",{type:"core",name:"settings-taxjar",title:"Tax service provider settings",description:"Tax service provider settings",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",favicon:"icon-module-settings.png",routes:{index:{component:"sw-settings-taxjar",path:"index",meta:{parentPath:"sw.settings.index",privilege:"system.system_config"}}},settingsItem:{group:"shop",to:"sw.settings.taxjar.index",icon:"regular-briefcase",privilege:"system.system_config"}});let{Component:d,Mixin:c}=Shopware,{Criteria:p}=Shopware.Data;d.register("sw-tax-log-module-list",{template:'\n{% block tax_jar_log_module_list %}\n    <sw-page>\n        \n        {% block tax_jar_log_smart_bar_header %}\n            <template #smart-bar-header>\n                \n                {% block tax_jar_log_list_smart_bar_header_title %}\n                    <h2>\n                        \n                        {% block emizen_module_list_smart_bar_header_title_text %}\n                            {{ $tc(\'sw-settings.index.title\') }}\n                            <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                            {{ $t(\'sw-tax-log-module.general.mainMenuItemList\') }}\n                        {% endblock %}\n\n                        \n                        {% block emizen_module_list_smart_bar_header_amount %}\n                            <span v-if="total" class="sw-page__smart-bar-amount">\n                                ({{total}})\n                            </span>\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n        <template #smart-bar-actions>\n            \n            {% block sw_settings_test_tax_jar_connection %}\n                <sw-button\n                    class="sw-settings-tax-connection__test-action"\n                    variant="primary"\n                    :is-loading="isLoading"\n                    :disabled="isLoading"\n                    @click="exportLog"\n                >\n                    {{ $tc(\'sw-tax-log-module.export.buttonLabel\') }}\n                </sw-button>\n            {% endblock %}\n        </template>\n        <template #content>\n            <sw-entity-listing\n                :items="taxJarLogCollection"\n                :repository="getRepository"\n                :showSelection="false"\n                :columns="getColumns">\n                <template slot="column-request" slot-scope="{ item }">\n                    {{item.request}}\n                </template>\n                <template slot="column-response" slot-scope="{ item }">\n                    {{item.response}}\n                </template>\n            </sw-entity-listing>\n        </template>\n\n        \n        {% block wk_test_list_sidebar %}\n            <template #sidebar>\n                <sw-sidebar class="sw-order-list__sidebar">\n                    \n                    {% block tax_jar_log_list_sidebar_refresh %}\n                        <sw-sidebar-item\n                            icon="regular-undo"\n                            :title="$tc(\'sw-order.list.titleSidebarItemRefresh\')"\n                            @click="onRefresh">\n                        </sw-sidebar-item>\n                    {% endblock %}\n\n                    \n                    {% block tax_jar_log_list_sidebar_filter %}\n                        <sw-sidebar-filter-panel\n                            entity="taxjar_log"\n                            :storeKey="storeKey"\n                            :filters="listFilters"\n                            :defaults="defaultFilters"\n                            :activeFilterNumber="activeFilterNumber"\n                            @criteria-changed="updateCriteria">\n                        </sw-sidebar-filter-panel>\n                    {% endblock %}\n                </sw-sidebar>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","filterFactory"],mixins:[c.getByName("notification"),c.getByName("listing"),c.getByName("placeholder")],metaInfo(){return{title:this.$createTitle()}},data(){return{total:0,page:1,limit:30,taxJarLogCollection:null,storeKey:"grid.filter.tax.log",repository:null,isLoading:!1,processSuccess:!1,defaultFilters:["tax-log-date-filter","tax-log-type-filter","tax-log-order-number-filter","tax-log-order-id-filter","tax-log-customer-name-filter","tax-log-customer-email-filter","tax-log-customer-ip-filter","tax-log-request-filter","tax-log-response-filter"],activeFilterNumber:0,filterCriteria:[]}},created(){},computed:{getRepository(){return this.repositoryFactory.create("s25_taxjar_log")},getColumns(){return this.getColumnsList()},listFilters(){return this.filterFactory.create("s25_taxjar_log",{"tax-log-date-filter":{property:"createdAt",dateType:"datetime-local",label:"Creation Time",placeholder:"Creation Time",showTimeframe:!0},"tax-log-type-filter":{property:"type",label:"Request Type",type:"text-filter",placeholder:"Request Type"},"tax-log-order-number-filter":{property:"orderNumber",label:"Order Number",type:"text-filter",placeholder:"Order Number"},"tax-log-order-id-filter":{property:"orderId",label:"Order Id",type:"text-filter",placeholder:"Order Id"},"tax-log-customer-name-filter":{property:"customerName",label:"Customer Name",type:"text-filter",placeholder:"Customer Name"},"tax-log-customer-email-filter":{property:"customerEmail",label:"Customer Email",type:"text-filter",placeholder:"Customer Email"},"tax-log-customer-ip-filter":{property:"remoteIp",label:"Customer IP",type:"text-filter",placeholder:"Customer IP"},"tax-log-request-filter":{property:"request",label:"Request",type:"text-filter",placeholder:"Request"},"tax-log-response-filter":{property:"response",type:"text-filter",label:"Response",placeholder:"Response"}})},defaultCriteria(){let e=new p(this.page,this.limit);return e.setTerm(this.term),e.addSorting(p.sort("createdAt","DESC")),this.filterCriteria.forEach(t=>{e.addFilter(t)}),e}},watch:{defaultCriteria:{handler(){this.getList()},deep:!0}},methods:{basicHeaders(){return{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${Shopware.Service("loginService").getToken()}`}},exportLog(){let e={method:"GET",headers:this.basicHeaders(),redirect:"follow"},t=Shopware.Context.api.basePath;fetch(t+"/api/_action/tax-jar/export-log",e).then(e=>e.json()).then(e=>{let t="Customer Name,Customer Email,Customer IP,Order Number,Order Id,Request,Response,Creation Time\n";e.forEach(e=>{t+='"'+e.customerName+'","'+e.customerEmail+'","'+e.remoteIp+'","'+e.orderNumber+'","'+e.orderId+'","'+e.request+'","'+e.response+'",'+e.createdAt+"\n"});let r=document.createElement("a");r.href="data:text/csv;charset=utf-8,"+encodeURIComponent(t),r.target="_blank",r.download="ExportTaxJarLog.csv",r.click()}).catch(e=>{this.createNotificationError({message:e+".Please review logs for more detail!"})})},async getList(){this.isLoading=!0;let e=await Shopware.Service("filterService").mergeWithStoredFilters(this.storeKey,this.defaultCriteria);this.activeFilterNumber=e.filters.length;try{let e=await this.getRepository.search(this.defaultCriteria);this.total=e.total,this.taxJarLogCollection=e,this.isLoading=!1,this.selection={}}catch{this.isLoading=!1}},updateCriteria(e){this.page=1,this.filterCriteria=e},getColumnsList(){return[{property:"createdAt",dataIndex:"createdAt",label:"Creation Time",allowResize:!0,sortable:!0},{property:"type",dataIndex:"type",label:this.$t("sw-tax-log-module.list.requestType"),allowResize:!0,sortable:!0},{property:"orderNumber",dataIndex:"orderNumber",label:this.$t("sw-tax-log-module.list.orderNumber"),allowResize:!0,sortable:!0},{property:"orderId",dataIndex:"orderId",label:this.$t("sw-tax-log-module.list.orderId"),allowResize:!0,sortable:!0},{property:"customerName",dataIndex:"customerName",label:this.$t("sw-tax-log-module.list.customerName"),allowResize:!0,sortable:!0},{property:"customerEmail",dataIndex:"customerEmail",label:this.$t("sw-tax-log-module.list.customerEmail"),allowResize:!0,sortable:!0},{property:"remoteIp",dataIndex:"remoteIp",label:this.$t("sw-tax-log-module.list.remoteIp"),allowResize:!0,sortable:!0},{property:"request",dataIndex:"request",label:this.$t("sw-tax-log-module.list.titleColumn"),allowResize:!0,sortable:!0},{property:"response",dataIndex:"response",label:this.$t("sw-tax-log-module.list.descColumn"),allowResize:!0,sortable:!0}]}}});let{Module:u}=Shopware;u.register("sw-tax-log-module",{type:"plugin",title:"sw-tax-log-module.general.mainMenuItemList",description:"sw-tax-log-module.general.descriptionTextModule",routes:{list:{component:"sw-tax-log-module-list",path:"list",meta:{parentPath:"sw.settings.index"}}},settingsItem:[{name:"sw-tax-log-module-menu",label:"sw-tax-log-module.general.mainMenuItemList",to:"sw.tax.log.module.list",group:"plugins",icon:"regular-cog"}],navigation:[{id:"sw-tax-jar-log",label:"sw-tax-log-module.general.mainMenuItemList",color:"#ff68b4",icon:"regular-cog",path:"sw.tax.log.module.list",position:100,parent:"sw-order",privilege:"order.viewer"}]});let{Component:g,Mixin:m}=Shopware;g.register("sw-nexus-page",{template:'<sw-page>\n  <template #content>\n    <div v-if="isLoading">\n      <sw-loader size="50px" />\n    </div>\n\n    <div v-else>\n      <sw-alert\n              v-if="errorMessage"\n              variant="error"\n              :title="\'Nexus Error\'"\n              :showIcon="true"\n              class="nexus-error-alert">\n        {{ errorMessage }}\n      </sw-alert>\n\n      <sw-data-grid\n              v-if="!errorMessage"\n              :dataSource="regions"\n              :columns="columns"\n              :showSelection="false"\n              :showActions="false" />\n\n      <div class="nexus-status-wrapper" v-if="!errorMessage">\n        <div v-if="regions.length > 0" class="success-nexus-alert">\n          Nexus is connected\n        </div>\n\n        <div v-else class="danger-nexus-alert">\n          No nexus connected\n        </div>\n\n        <p v-if="regions.length === 0" class="nexus-instruction">\n          Connect a nexus using TaxJar\n          <a href="https://app.taxjar.com/dashboard" target="_blank" rel="noopener noreferrer">\n            dashboard\n          </a>\n        </p>\n      </div>\n    </div>\n  </template>\n</sw-page>\n',inject:["nexusApiService"],mixins:[m.getByName("notification")],data(){return{isLoading:!1,regions:[],errorMessage:"",columns:[{property:"country",label:"Country"},{property:"country_code",label:"Country Code"},{property:"region",label:"Region"},{property:"region_code",label:"Region Code"}]}},methods:{errorMessage:void 0,async getData(){this.isLoading=!0,this.errorMessage="";try{let e=await this.nexusApiService.getStates();if(!e?.data?.regions){this.regions=[],this.errorMessage="No Nexus regions received. Please verify your TaxJar connection.",this.createNotificationError({title:"Nexus Error",message:this.errorMessage});return}this.regions=e.data.regions.map((e,t)=>({id:t,...e}))}catch(e){this.regions=[],this.errorMessage="Failed to load Nexus regions. Please check your API credentials or configuration.",this.createNotificationError({title:"Nexus Error",message:this.errorMessage}),console.error("[Nexus API Error]:",e)}finally{this.isLoading=!1}}},mounted(){this.getData()}});let{Module:h}=Shopware;h.register("sw-nexus-module",{type:"plugin",title:"sw-nexus-module.general.mainMenuItemList",description:"sw-nexus-module.general.descriptionTextModule",routes:{list:{component:"sw-nexus-page",path:"list",meta:{parentPath:"sw.settings.index"}}},navigation:[{id:"sw-nexus-module",label:"sw-nexus-module.general.mainMenuItemList",color:"#ff68b4",icon:"regular-cog",path:"sw.nexus.module.list",position:100,parent:"sw-order",privilege:"order.viewer"}]});let{Application:x}=Shopware,f=Shopware.Classes.ApiService;class v extends f{constructor(e,t,r="nexus"){super(e,t,r)}getStates(){return this.httpClient.get(`${this.getApiBasePath()}/states`,{headers:this.getBasicHeaders()}).then(e=>f.handleResponse(e))}}x.addServiceProvider("nexusApiService",e=>new v(x.getContainer("init").httpClient,e.loginService)),r(994),Shopware.Service("nexusApiService").register("nexusApiService",v)}()})();